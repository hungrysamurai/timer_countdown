function e(e){const t=document.querySelector(e);if(t)return t;throw new Error(`Please check "${e}" selector, no such element exist`)}function t({hours:e=0,minutes:t=0,seconds:s=0,milliseconds:a=0}={},i){i.hoursEl.textContent=n(e),i.minutesEl.textContent=n(t),i.secondsEl.textContent=n(s),i.millisecondsEl.textContent=n(a)}function s(e){return{hours:Math.floor(e/36e5),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60),milliseconds:Math.floor(e/10%100)}}function n(e){return e>=0&&e<10?`0${e}`:e}const a=(e,t)=>{const{clockContainer:s,modeContainer:n,progressBar:a,timerButtonsContainer:i,countdownButtonsContainer:o}=t;s.className=`clock-container ${e} d-flex w-100 h-auto`,n.className=`mode-container ${e}`,a.className=`progress-bar ${e}`,i.classList.remove("show"),o.classList.remove("show"),document.querySelector(`.${e}-buttons-container`).classList.add("show")};function i(e,t){e.style.width=`${t}%`}function o(e){const[t,s,n]=e;return 1e3*n.value+6e4*s.value+36e5*t.value}function r(e,t){e.forEach((e=>{e.disabled=t,e.style.color=t?"lightgray":"var(--color-dark)"}))}function l(e,s,n,a,i){s.timerPlayIcon.className="bi bi-play",s.timerPlayBtn.classList.remove("active"),n.countdownPlayIcon.className="bi bi-play",n.countdownPlayBtn.classList.remove("active"),clearInterval(e),t(void 0,a),i.forEach((e=>e.value="")),r(i,!1)}class c{freeze(){this.status="paused",this.timerProgress=Date.now()-this.initialTimestamp}unFreeze(){this.status="active",this.initialTimestamp=Date.now()-this.timerProgress}constructor(){this.status="active",this.timerProgress=0,this.initialTimestamp=Date.now()}}const u=(e,n)=>{t(s(Date.now()-e),n)};let d;const m=(e,{savedCloseBtn:t,savedTimersEl:n})=>{let a;e&&(a="active"===e.status?Date.now()-e.initialTimestamp:e.timerProgress,d.length<12&&d[d.length-1]!==a&&(d.push(a),1===d.length&&t.classList.remove("hidden"),localStorage.setItem("savedTimers",JSON.stringify(d)),h(s(a),n)))},v=({savedCloseBtn:e,savedTimersEl:t})=>{t.innerHTML="",d=[],localStorage.removeItem("savedTimers"),e.classList.add("hidden")};function h({hours:e,minutes:t,seconds:s,milliseconds:a},i){const o=document.createElement("div");o.className="saved-timer m-1",o.innerHTML=`\n  <span>\n  ${n(e)}:${n(t)}:${n(s)}:${n(a)}\n  </span>\n  `,i.append(o)}class p{freeze(){this.status="paused"}unFreeze(){this.status="active",this.endTime=this.countdownTime+Date.now()}constructor(e){this.status="active",this.countdownTime=e,this.endTime=Date.now()+e,this.totalTime=e}}const b=(e,n,a,o,l)=>{const{endTime:c}=e,{progressBar:u}=a;let d=c-Date.now();e.countdownTime=d,t(s(d),o);i(u,((e.totalTime-d)/e.totalTime*100).toFixed(2)),e.countdownTime<=4&&(e.status="done",a.countdownPlayIcon.className="bi bi-play",a.countdownPlayBtn.classList.remove("active"),clearInterval(n),t(void 0,o),l.forEach((e=>e.value="")),r(l,!1))},w=e(".mode-container"),f=e(".mode-switcher"),g=e(".progress-bar"),y=f.querySelectorAll(".mode-switcher label"),T={savedCloseBtn:e(".saved-timers-container button"),savedTimersEl:e(".saved-timers")},E=e(".timer-buttons-container"),B=e(".timer-play-btn"),I=e(".timer-play-btn .bi.bi-play"),L=e(".timer-stop-btn"),C=e(".save-btn"),N=e(".saved-timers-container"),P={timerButtonsContainer:E,timerPlayBtn:B,timerPlayIcon:I,timerStopBtn:L,saveBtn:C,savedContainer:N},k=e(".countdown-buttons-container"),S=e(".countdown-play-btn"),$=e(".countdown-play-btn .bi.bi-play"),x=e(".countdown-stop-btn"),z=[e("#hours-input"),e("#minutes-input"),e("#seconds-input")],D={countdownButtonsContainer:k,countdownPlayBtn:S,countdownPlayIcon:$,countdownStopBtn:x,inputsArray:z,progressBar:g},M=e(".clock-container");let F,O,q,J={hoursEl:e("#hours"),minutesEl:e("#minutes"),secondsEl:e("#seconds"),millisecondsEl:e("#milliseconds")};y.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.id.split("-")[0];a(t,{clockContainer:M,modeContainer:w,progressBar:g,timerButtonsContainer:E,countdownButtonsContainer:k}),i(g,"timer"===t?100:0),l(F,P,D,J,z),O=null,q=null}))})),B.addEventListener("click",(()=>{if(!O)return I.className="bi bi-pause",B.classList.add("active"),O=new c,void(F=setInterval(u,4,O.initialTimestamp,J));"active"===O.status?(O.freeze(),I.className="bi bi-play",clearInterval(F)):"paused"===O.status&&(O.unFreeze(),I.className="bi bi-pause",B.classList.add("active"),F=setInterval(u,4,O.initialTimestamp,J))})),L.addEventListener("click",(()=>{l(F,P,D,J,z),O=null})),C.addEventListener("click",(()=>{m(O,T)})),N.addEventListener("click",(e=>{"I"!==e.target.tagName&&"BUTTON"!==e.target.tagName||v(T)})),S.addEventListener("click",(()=>{if(!q||"done"===q.status){const e=o(z);if(0===e||e>=359999999)return;return r(z,!0),i(g,0),q=new p(e),$.className="bi bi-pause",S.classList.add("active"),void(F=setInterval((()=>{b(q,F,D,J,z)}),4))}"active"===q.status?(q.freeze(),$.className="bi bi-play",clearInterval(F)):"paused"===q.status&&(q.unFreeze(),$.className="bi bi-pause",F=setInterval((()=>{b(q,F,D,J)}),4))})),x.addEventListener("click",(()=>{l(F,P,D,J,z),q=null,i(g,0)})),(({savedCloseBtn:e,savedTimersEl:t})=>{localStorage.getItem("savedTimers")||localStorage.setItem("savedTimers",JSON.stringify([])),d=JSON.parse(localStorage.getItem("savedTimers")),console.log(d),d.forEach(((n,a)=>{0===a&&e.classList.remove("hidden"),h(s(n),t)}))})(T),z.forEach((e=>{e.addEventListener("input",(()=>{var t;""!=(t=e).value&&(parseInt(t.value)<parseInt(t.min)&&(t.value=t.min),parseInt(t.value)>parseInt(t.max)&&(t.value=t.max))}))}));
//# sourceMappingURL=index.6ec51e3f.js.map
